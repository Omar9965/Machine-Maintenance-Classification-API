{% extends "base.html" %}

{% block title %}{{ app_name }} — Predict{% endblock %}

{% block content %}
<section class="predict-section">
    <h1 class="page-title">Machine Failure Prediction</h1>
    <p class="page-subtitle">Enter machine sensor data below to predict potential failures.</p>

    {% if error %}
    <div class="alert alert-error">
        <span class="alert-icon">⚠️</span>
        <span>{{ error }}</span>
    </div>
    {% endif %}

    <form method="POST" action="/predict" class="predict-form" id="predictForm">
        <div class="form-grid">
            <!-- Product Type -->
            <div class="form-group">
                <label for="Type" class="form-label">Product Type</label>
                <select name="Type" id="Type" class="form-control" required>
                    <option value="" disabled selected>Select type...</option>
                    <option value="L">L — Low Quality</option>
                    <option value="M">M — Medium Quality</option>
                    <option value="H">H — High Quality</option>
                </select>
            </div>

            <!-- Air Temperature -->
            <div class="form-group">
                <label for="air_temperature" class="form-label">Air Temperature (K)</label>
                <input
                    type="number"
                    name="Air temperature [K]"
                    id="air_temperature"
                    class="form-control"
                    placeholder="295.3 – 305.4"
                    min="295.3"
                    max="305.4"
                    step="0.1"
                    required
                >
                <span class="form-hint">Range: 295.3 – 305.4 K</span>
            </div>

            <!-- Process Temperature -->
            <div class="form-group">
                <label for="process_temperature" class="form-label">Process Temperature (K)</label>
                <input
                    type="number"
                    name="Process temperature [K]"
                    id="process_temperature"
                    class="form-control"
                    placeholder="305.7 – 313.8"
                    min="305.7"
                    max="313.8"
                    step="0.1"
                    required
                >
                <span class="form-hint">Range: 305.7 – 313.8 K</span>
            </div>

            <!-- Rotational Speed -->
            <div class="form-group">
                <label for="rotational_speed" class="form-label">Rotational Speed (rpm)</label>
                <input
                    type="number"
                    name="Rotational speed [rpm]"
                    id="rotational_speed"
                    class="form-control"
                    placeholder="1168 – 2886"
                    min="1168"
                    max="2886"
                    step="1"
                    required
                >
                <span class="form-hint">Range: 1168 – 2886 rpm</span>
            </div>

            <!-- Torque -->
            <div class="form-group">
                <label for="torque" class="form-label">Torque (Nm)</label>
                <input
                    type="number"
                    name="Torque [Nm]"
                    id="torque"
                    class="form-control"
                    placeholder="3.8 – 76.6"
                    min="3.8"
                    max="76.6"
                    step="0.1"
                    required
                >
                <span class="form-hint">Range: 3.8 – 76.6 Nm</span>
            </div>

            <!-- Tool Wear -->
            <div class="form-group">
                <label for="tool_wear" class="form-label">Tool Wear (min)</label>
                <input
                    type="number"
                    name="Tool wear [min]"
                    id="tool_wear"
                    class="form-control"
                    placeholder="0 – 253"
                    min="0"
                    max="253"
                    step="1"
                    required
                >
                <span class="form-hint">Range: 0 – 253 min</span>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
                <span class="btn-text">Run Prediction</span>
                <span class="btn-loader" style="display:none;">
                    <span class="spinner"></span>
                    Processing...
                </span>
            </button>
            <button type="reset" class="btn btn-secondary">Clear Form</button>
        </div>
    </form>
</section>
{% endblock %}
